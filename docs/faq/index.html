<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="icestark Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="icestark Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYD48PYEE0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYD48PYEE0",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="icestark" href="/opensearch.xml"><title data-react-helmet="true">å¸¸è§é—®é¢˜ | icestark</title><meta data-react-helmet="true" property="og:url" content="https://micro-frontends.ice.work/docs/faq"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="å¸¸è§é—®é¢˜ | icestark"><meta data-react-helmet="true" name="description" content="å¾®åº”ç”¨ bundle åŠ è½½å¤±è´¥ï¼Ÿ"><meta data-react-helmet="true" property="og:description" content="å¾®åº”ç”¨ bundle åŠ è½½å¤±è´¥ï¼Ÿ"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://micro-frontends.ice.work/docs/faq"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/docs/faq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/docs/faq" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.27027981.css">
<link rel="preload" href="/assets/js/runtime~main.42d3929b.js" as="script">
<link rel="preload" href="/assets/js/main.b610525b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/guide">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/docs/api/ice-stark">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/faq">å¸¸è§é—®é¢˜</a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guide">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/ice-stark">API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">åšå®¢</a></li><li class="menu__list-item"><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">å¸¸è§é—®é¢˜</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¾®åº”ç”¨-bundle-åŠ è½½å¤±è´¥"></a>å¾®åº”ç”¨ bundle åŠ è½½å¤±è´¥ï¼Ÿ<a class="hash-link" href="#å¾®åº”ç”¨-bundle-åŠ è½½å¤±è´¥" title="Direct link to heading">#</a></h2><p>å‰ç«¯åº”ç”¨å¦‚æœåšäº†æŒ‰éœ€åŠ è½½ï¼ŒæŒ‰éœ€åŠ è½½çš„ bundle é»˜è®¤æ˜¯æ ¹æ®å½“å‰åŸŸåæ‹¼æ¥åœ°å€ï¼Œå¦‚æœå‰ç«¯èµ„æºéƒ¨ç½²åœ¨éå½“å‰åŸŸåï¼ˆæ¯”å¦‚ CDNï¼‰ä¸‹ï¼Œåˆ™éœ€è¦é€šè¿‡æ‰‹åŠ¨é…ç½® publicPath æ¥å®ç°ï¼Œ<a href="https://ice.work/docs/guide/about" target="_blank" rel="noopener noreferrer">ice</a> ç”¨æˆ·å¯å‚è€ƒ<a href="https://ice.work/docs/guide/basic/build#publicPath" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a>ï¼›å…¶ä»–ç”¨æˆ·å¯ä»¥å‚è€ƒ <a href="https://webpack.js.org/guides/public-path/#root" target="_blank" rel="noopener noreferrer">wepback publicPath</a>ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¾®åº”ç”¨å¼€å‘æ—¶è¯·æ±‚æœ¬åœ°-mock-æ¥å£"></a>å¾®åº”ç”¨å¼€å‘æ—¶è¯·æ±‚æœ¬åœ° Mock æ¥å£ï¼Ÿ<a class="hash-link" href="#å¾®åº”ç”¨å¼€å‘æ—¶è¯·æ±‚æœ¬åœ°-mock-æ¥å£" title="Direct link to heading">#</a></h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä»£ç ä¸­çš„æ¥å£è¯·æ±‚åœ°å€éƒ½æ˜¯å†™æˆç±»ä¼¼ <code>/api/xxx</code> çš„ç›¸å¯¹åœ°å€ï¼Œè¯·æ±‚æ—¶ä¼šæ ¹æ®å½“å‰åŸŸåè¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœå¾®åº”ç”¨åµŒå…¥ä¸»åº”ç”¨è¿›è¡Œå¼€å‘ï¼Œåœ¨åŸŸåå˜åŒ–åä¾æ—§æƒ³ä½¿ç”¨å¾®åº”ç”¨çš„ Mock æ¥å£æˆ–è€…ä»£ç†é…ç½®ï¼Œå¯ä»¥è®¾ç½® <code>baseURL</code> æ¥è¯·æ±‚éå½“å‰åŸŸåçš„æ¥å£åœ°å€ï¼Œæ¯”å¦‚ <code>axios</code> å¯ä»¥é€šè¿‡ <code>axios.defaults.baseURL</code> æ¥å®ç°ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/utils/request.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">axios</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;axios&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">axios</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">defaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">baseURL</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;//127.0.0.1:4444&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>å¦‚æœå¾®åº”ç”¨ä½¿ç”¨ icejs ç ”å‘æ¡†æ¶æä¾›çš„æ•°æ®è¯·æ±‚æ–¹æ¡ˆï¼Œåˆ™åªéœ€é€šè¿‡é…ç½® <code>appConfig</code>ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> runApp </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> appConfig </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  request</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    baseURL</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;//127.0.0.1:4444&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">runApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ç”±äºå¼€å‘è°ƒè¯•è¿‡ç¨‹ä¸­ä¸»åº”ç”¨å’Œå¾®åº”ç”¨çš„åŸŸåæˆ–è€…ç«¯å£ä¸ä¸€è‡´ï¼Œé icejs ç ”å‘æ¡†æ¶çš„å·¥ç¨‹å¯èƒ½ä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ webpack devServer é…ç½®ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  devServer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">before</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// set cors for all served files</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¾®åº”ç”¨æœ¬åœ°å¼€å‘å¦‚ä½•è°ƒè¯•"></a>å¾®åº”ç”¨æœ¬åœ°å¼€å‘å¦‚ä½•è°ƒè¯•ï¼Ÿ<a class="hash-link" href="#å¾®åº”ç”¨æœ¬åœ°å¼€å‘å¦‚ä½•è°ƒè¯•" title="Direct link to heading">#</a></h2><p>å•ç‹¬å¾®åº”ç”¨å¼€å‘æ—¶åªèƒ½çœ‹åˆ°è‡ªèº«çš„å†…å®¹ï¼Œæ— æ³•å…³æ³¨åˆ°åœ¨ä¸»åº”ç”¨ä¸‹çš„è¡¨ç°ï¼Œè¿™æ—¶å€™æœ¬åœ°å¦‚æœéœ€è¦å†å¯åŠ¨ä¸€ä¸ªä¸»åº”ç”¨ï¼Œå¼€å‘èµ·æ¥å°±å¾ˆç¹çã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æ¨èé€šè¿‡ä¸»åº”ç”¨çš„æ—¥å¸¸/çº¿ä¸Šç¯å¢ƒè°ƒè¯•æœ¬åœ°å¾®åº”ç”¨ã€‚</p><p>åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œå¾®åº”ç”¨æ—¶ï¼Œå¦‚æœ url é‡Œæºå¸¦äº†ç±»ä¼¼ <code>?__env__=local</code> çš„ queryï¼Œåˆ™å°†å¾®åº”ç”¨çš„ url è½¬æ¢ä¸ºå¯¹åº”çš„æœ¬åœ°æœåŠ¡åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥æ–¹ä¾¿è°ƒè¯•å¾®åº”ç”¨äº†ã€‚å¤§ä½“ä»£ç å¦‚ä¸‹ï¼ˆå¯æ ¹æ®å…·ä½“éœ€æ±‚è°ƒæ•´ï¼‰ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/app.jsx</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRouter</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRoute</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">urlParse</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;url-parse&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">BasicLayout</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@/layouts/BasicLayout&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> urlQuery </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">urlParse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(191, 199, 213)">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">href</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">query</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getBundleUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> jsUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">//g.alicdn.com/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">version</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/index.min.js</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> cssUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">//g.alicdn.com/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">version</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/index.min.css</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">urlQuery</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">env</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;local&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    jsUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">//127.0.0.1:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">urlQuery</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">port</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/build/js/index.js</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cssUrl </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">//127.0.0.1:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">urlQuery</span><span class="token template-string interpolation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token template-string interpolation">port</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">/build/css/index.css</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">cssUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> jsUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> apps </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  title</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;é€šç”¨é¡µé¢&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getBundleUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0.1.0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>å¦‚æœå¾®åº”ç”¨æ˜¯å¼€å¯æŒ‰éœ€åŠ è½½ï¼Œä¸ºäº†è®©å¾®åº”ç”¨èµ„æºèƒ½å¤Ÿæ­£ç¡®åŠ è½½ï¼Œéœ€è¦å¾®åº”ç”¨å¼€å¯æœ¬åœ°æœåŠ¡çš„æ—¶å€™è®¾ç½® <code>publicPath</code>ï¼Œå¦‚æœå¾®åº”ç”¨åŸºäº icejs è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥å‚è€ƒ<a href="https://ice.work/docs/guide/basic/build#devPublicPath" target="_blank" rel="noopener noreferrer">é…ç½®</a>ã€‚</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åº”ç”¨å¯ç”¨-lazy-åchunk-åŠ è½½å¤±è´¥"></a>åº”ç”¨å¯ç”¨ lazy åï¼Œchunk åŠ è½½å¤±è´¥<a class="hash-link" href="#åº”ç”¨å¯ç”¨-lazy-åchunk-åŠ è½½å¤±è´¥" title="Direct link to heading">#</a></h2><ol><li>å¯èƒ½æ˜¯  webpack runtimes å‘ç”Ÿå†²çª</li></ol><p>é€šå¸¸å‘ç”Ÿåœ¨å¤šä¸ªå¾®åº”ç”¨å‡å¼€å¯ lazy åŠ è½½é¡µé¢ï¼Œè¿™ç§æƒ…å†µå»ºè®®å¼€å¯ sandbox éš”ç¦»å¾®åº”ç”¨ windows å…¨å±€å˜é‡ã€‚å¦‚æœæ— æ³•å¼€å¯ sandboxï¼Œåˆ™éœ€è¦åœ¨ä¸»åº”ç”¨ <code>onAppLeave</code> çš„é˜¶æ®µæ¸…ç©º webpackJsonp é…ç½®ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">onAppLeave</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">appConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">webpackJsonp</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>è‹¥ä½¿ç”¨ webpack5 æ„å»ºåº”ç”¨ï¼Œåˆ™ webpack5 ä¼šé»˜è®¤ä½¿ç”¨ package.json çš„ name ä½œä¸º <a href="https://webpack.js.org/blog/2020-10-10-webpack-5-release/#automatic-unique-naming" target="_blank" rel="noopener noreferrer">uniqueName</a>ï¼Œå› æ­¤ä¹Ÿæ— éœ€åœ¨ onAppLeave é˜¶æ®µç§»é™¤ window.webpackJsonpï¼Œå¯æ’é™¤è¯¥å› ç´ å½±å“ã€‚</p></blockquote><ol start="2"><li>æ²¡æœ‰é…ç½® publicPath</li></ol><p>ç”±äºæœªé…ç½® <a href="https://webpack.js.org/configuration/output/#outputpublicpath" target="_blank" rel="noopener noreferrer">publicPath</a>ï¼Œå¯èƒ½ä¼šå¯¼è‡´ webpack åŠ è½½äº†é”™è¯¯çš„é™æ€åœ°å€ã€‚æ¯”å¦‚ï¼Œé™æ€èµ„æºæ‰“åŒ…å‘é€åˆ° CDN æœåŠ¡ä¸Šï¼Œåˆ™å¯é…ç½®ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// webpack.config.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    publicPath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://www.cdn.example/&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="error-invariant-failed-you-should-not-use-withrouternavigation--outside-a-router"></a>Error: Invariant failed: You should not use <code>&lt;withRouter(Navigation) /&gt;</code> outside a <code>&lt;Router&gt;</code><a class="hash-link" href="#error-invariant-failed-you-should-not-use-withrouternavigation--outside-a-router" title="Direct link to heading">#</a></h2><p>å› ä¸º jsx åµŒå¥—å±‚çº§çš„å…³ç³»ï¼Œåœ¨ä¸»åº”ç”¨çš„ Layout é‡Œæ²¡æ³•ä½¿ç”¨ react-router æä¾›çš„ APIï¼Œæ¯”å¦‚ <code>withRouter</code>, <code>Link</code>, <code>useParams</code> ç­‰ï¼Œå…·ä½“å‚è€ƒæ–‡æ¡£ <a href="/docs/guide/use-layout/react#%E4%B8%BB%E5%BA%94%E7%94%A8%E4%B8%AD%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC">ä¸»åº”ç”¨ä¸­è·¯ç”±è·³è½¬</a>ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å®˜æ–¹-demo-å¦‚ä½•å¯ç”¨-hashrouter"></a>å®˜æ–¹ Demo å¦‚ä½•å¯ç”¨ HashRouter<a class="hash-link" href="#å®˜æ–¹-demo-å¦‚ä½•å¯ç”¨-hashrouter" title="Direct link to heading">#</a></h2><p>å®˜æ–¹æ¨è BrowserRouter ä½œä¸ºå¾®å‰ç«¯çš„è·¯ç”±æ¨¡å¼ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é€‚é… HashRouter è·¯ç”±æ¨¡å¼ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¿®æ”¹ä¸»åº”ç”¨çš„è·¯ç”±æ¨¡å¼"></a>ä¿®æ”¹ä¸»åº”ç”¨çš„è·¯ç”±æ¨¡å¼<a class="hash-link" href="#ä¿®æ”¹ä¸»åº”ç”¨çš„è·¯ç”±æ¨¡å¼" title="Direct link to heading">#</a></h4><p>åœ¨ <code>src/app.ts</code> ä¸­å¢åŠ ä»¥ä¸‹é…ç½®ï¼Œå°† <code>router</code> ä¿®æ”¹ä¸º <code>hash</code>ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import { runApp } from &#x27;ice&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const appConfig = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> router: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">   type: &#x27;browser&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">   type: &#x27;hash&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">runApp(appConfig);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¸ºå¾®åº”ç”¨è®¾ç½®-hashtype-ä¸º-true"></a>ä¸ºå¾®åº”ç”¨è®¾ç½® hashType ä¸º true<a class="hash-link" href="#ä¸ºå¾®åº”ç”¨è®¾ç½®-hashtype-ä¸º-true" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import { runApp } from &#x27;ice&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const appConfig: IAppConfig = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> icestark: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type: &#x27;framework&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Layout: FrameworkLayout,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   getApps: async () =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     const apps = [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       activePath: &#x27;/seller&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       title: &#x27;å•†å®¶å¹³å°&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       sandbox: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">       hashType: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       url: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//dev.g.alicdn.com/nazha/ice-child-react/0.0.1/js/index.js&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//dev.g.alicdn.com/nazha/ice-child-react/0.0.1/css/index.css&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       activePath: &#x27;/waiter&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       title: &#x27;å°äºŒå¹³å°&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       sandbox: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">       hashType: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       url: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//ice.alicdn.com/icestark/child-waiter-vue/app.js&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//ice.alicdn.com/icestark/child-waiter-vue/app.css&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     return apps;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">runApp(appConfig);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¿®æ”¹-frameworklayout-ä¸­çš„é€»è¾‘"></a>ä¿®æ”¹ FrameworkLayout ä¸­çš„é€»è¾‘<a class="hash-link" href="#ä¿®æ”¹-frameworklayout-ä¸­çš„é€»è¾‘" title="Direct link to heading">#</a></h4><p>æ­¤å¤–ï¼Œä½ å¯èƒ½éœ€è¦è‡ªè¡Œä¿®æ”¹ <code>FrameworkLayout</code> ä¸­çš„é€»è¾‘ï¼Œè·¯ç”±ä¿¡æ¯ä¼šé€šè¿‡ <code>routeInfo</code> å­—æ®µè¿”å›ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword module" style="font-style:italic">as</span><span class="token imports"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">BasicLayout</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../BasicLayout&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">UserLayout</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../UserLayout&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RouteInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  hash</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  pathname</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  query</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  routeType</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pushState&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;replaceState&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">FrameworkLayout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">props</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter">  children</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> React</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token parameter">ReactNode</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter">  appLeave</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> path</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> string </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter">  appEnter</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> path</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> string </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter">  routeInfo</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> RouteInfo</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter"></span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> children</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appLeave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appEnter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> routeInfo </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> props</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¦‚æœæ˜¯ HashRouter æ¨¡å¼</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> isHashRouter </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> hash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pathname </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> routeInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> isHashRouter </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;#&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> pathname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Layout</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> hash </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/login&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token maybe-class-name">UserLayout</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">BasicLayout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">useEffect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;== app leave ==&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appLeave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">appLeave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">path</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/angular&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">webpackJsonp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// remove webpackJsonp added by Angular app</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">delete</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">webpackJsonp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">appLeave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">useEffect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;== app enter ==&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> appEnter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">appEnter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Layout</span><span class="token plain"> pathname</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">children</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">Layout</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¾®åº”ç”¨æ”¹é€ "></a>å¾®åº”ç”¨æ”¹é€ <a class="hash-link" href="#å¾®åº”ç”¨æ”¹é€ " title="Direct link to heading">#</a></h4><p>å¾®åº”ç”¨çš„åŒæ ·éœ€è¦æ”¹é€ æˆ <code>HashRouter</code> è·¯ç”±æ¨¡å¼ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åº”ç”¨é—´è·³è½¬"></a>åº”ç”¨é—´è·³è½¬<a class="hash-link" href="#åº”ç”¨é—´è·³è½¬" title="Direct link to heading">#</a></h4><p>åº”ç”¨é—´è·³è½¬å¯ä»¥é€šè¿‡ <code>AppLink</code> å’Œ <code>appHistory</code>ï¼Œå¹¶è®¾ç½® <code>hashType</code> ä¸º <code>true</code>ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppLink</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> appHistory </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark-app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ç¤ºä¾‹1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> navItem </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">AppLink</span><span class="token plain"> to</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/seller&quot;</span><span class="token plain"> hashType</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">AppLink</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ç¤ºä¾‹2</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">appHistory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å…¼å®¹-ie-æµè§ˆå™¨"></a>å…¼å®¹ IE æµè§ˆå™¨<a class="hash-link" href="#å…¼å®¹-ie-æµè§ˆå™¨" title="Direct link to heading">#</a></h2><p>è¦ä½¿å¾— icestark å¯ä»¥åœ¨ IE æµè§ˆå™¨ç¯å¢ƒä¸‹æ­£å¸¸è¿è¡Œï¼Œå¼ºçƒˆå»ºè®®å®Œæˆä»¥ä¸‹ 2 ä¸ªæ­¥éª¤ï¼š</p><ol><li>ä½¿ç”¨ <a href="https://babeljs.io/docs/en/babel-preset-env" target="_blank" rel="noopener noreferrer"><code>@babel/preset-env</code></a> ä¸º IE æµè§ˆå™¨æ·»åŠ  <code>Symbol</code>ã€<code>Promise</code> ç­‰ä¸å…¼å®¹çš„é«˜çº§è¯­æ³•ç‰¹æ€§</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// .babelrc æˆ– babel-loader é…ç½®</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;presets&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@babel/preset-env&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;useBuiltIns&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;entry&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;targets&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ie&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;11&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modules&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;corejs&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://ice.work/docs/guide/about" target="_blank" rel="noopener noreferrer">ice å·¥ç¨‹ä½“ç³»</a>ä¸­ï¼Œå·²è‡ªåŠ¨æ·»åŠ ç¯å¢ƒæ‰€ä¾èµ–çš„ polyfillã€‚è¯·å‚è€ƒ <a href="https://ice.work/docs/guide/basic/build#polyfill" target="_blank" rel="noopener noreferrer">ice å·¥ç¨‹æ„å»ºé…ç½®</a>ã€‚</p><ol start="2"><li>æ·»åŠ  <code>fetch</code> polyfill</li></ol><p>å½“ <a href="/docs/api/ice-stark#loadscriptmode"><code>loadScriptMode</code></a> ä¸º <code>fetch</code> æ—¶ï¼Œicestark ä¼šä½¿ç”¨ <code>window.fetch</code> è·å–å¾®åº”ç”¨é™æ€èµ„æºï¼Œå› æ­¤è¿˜éœ€è¦å¯¹ <code>fetch</code> è¿›è¡Œ polyfillã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æ¨è <a href="https://github.com/github/fetch" target="_blank" rel="noopener noreferrer">whatwg-fetch</a>ã€‚è¯·ç¡®ä¿åœ¨ icestark ä¹‹å‰å¼•å…¥è¯¥èµ„æºã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å…¥å£æ–‡ä»¶</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;whatwg-fetch&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ç¡®ä¿åœ¨ icestark ä¹‹å‰å¼•å…¥</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRouter</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRoute</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">fetch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ie-æµè§ˆå™¨ç¯å¢ƒä¸‹æ”¯æŒæ²™ç®±å—"></a>IE æµè§ˆå™¨ç¯å¢ƒä¸‹æ”¯æŒæ²™ç®±å—<a class="hash-link" href="#ie-æµè§ˆå™¨ç¯å¢ƒä¸‹æ”¯æŒæ²™ç®±å—" title="Direct link to heading">#</a></h2><p><strong>ä¸æ”¯æŒ</strong>ã€‚åœ¨ä¸æ”¯æŒ <code>Proxy</code> è¯­æ³•çš„æµè§ˆå™¨ç¯å¢ƒï¼ˆæ¯”å¦‚ IE æµè§ˆå™¨ï¼‰ï¼Œicestark ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">proxy sandbox is not support by current browser</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>å¹¶å›é€€åˆ°æ— æ²™ç®±æ¨¡å¼æ‰§è¡Œã€‚</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¹¶ä¸æ¨èæ·»åŠ è¯¸å¦‚ <a href="https://github.com/GoogleChrome/proxy-polyfill" target="_blank" rel="noopener noreferrer">proxy-polyfill</a> ç­‰ polyfill æ–¹æ³•æ¥æ”¯æŒ icestark æ²™ç®±ã€‚å› ä¸ºç›®å‰å®ç° Proxy çš„ polyfill éƒ½ä¸æ˜¯å®Œå¤‡çš„ï¼ˆæœ‰ç¼ºé™·çš„ï¼‰ï¼Œicestark æ²™ç®±åœ¨å®ç°ä¸Šä½¿ç”¨äº† <code>has</code> trapï¼Œè€Œè¿™ä¸ª trap ç›®å‰æ— æ³•åœ¨ polyfill ä¸­å®ç°ã€‚æ›´å¤šæœ‰å…³ Proxy çš„å†…å®¹ï¼Œå¯å‚è€ƒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">Proxy</a>ã€‚</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¦‚ä½•è§£å†³-script-error"></a>å¦‚ä½•è§£å†³ Script Error<a class="hash-link" href="#å¦‚ä½•è§£å†³-script-error" title="Direct link to heading">#</a></h2><p>â€œScript error.â€ æ˜¯ä¸€ä¸ªå¸¸è§é”™è¯¯ï¼Œä½†ç”±äºè¯¥é”™è¯¯ä¸æä¾›å®Œæ•´çš„æŠ¥é”™ä¿¡æ¯ï¼ˆé”™è¯¯å †æ ˆï¼‰ï¼Œé—®é¢˜æ’æŸ¥å¾€å¾€æ— ä»ä¸‹æ‰‹ã€‚icestark çš„ <a href="/docs/api/ice-stark#scriptattributes">scriptAttributes</a> å‚æ•°æ”¯æŒä¸ºåŠ è½½çš„ <code>&lt;script /&gt;</code> èµ„æºæ·»åŠ  <code>crossorigin=&quot;anonymous&quot;</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“å¯å‚è€ƒ <a href="/docs/api/ice-stark#scriptattributes">scriptAttributes</a>ã€‚</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³ Script Error çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ <a href="https://help.aliyun.com/document_detail/88579.html" target="_blank" rel="noopener noreferrer">â€œScript error.â€çš„äº§ç”ŸåŸå› å’Œè§£å†³åŠæ³•</a></p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é¡µé¢ç©ºç™½æ§åˆ¶å°æ²¡æœ‰é”™è¯¯"></a>é¡µé¢ç©ºç™½ï¼Œæ§åˆ¶å°æ²¡æœ‰é”™è¯¯<a class="hash-link" href="#é¡µé¢ç©ºç™½æ§åˆ¶å°æ²¡æœ‰é”™è¯¯" title="Direct link to heading">#</a></h2><p>é‡åˆ°é¡µé¢ç©ºç™½ï¼Œè€Œæ§åˆ¶å°åˆæ²¡æœ‰é”™è¯¯çš„æƒ…å†µï¼Œæœ‰å¯èƒ½æ˜¯å› ä¸º <strong>å¾®åº”ç”¨å·²ç»æ­£å¸¸åŠ è½½ï¼Œä½†å¾®åº”ç”¨è·¯ç”±æ²¡æœ‰åŒ¹é…æˆåŠŸ</strong>ã€‚å› æ­¤æˆ‘ä»¬å»ºè®®å¾®åº”ç”¨å¢åŠ ä¸€ä¸ªé»˜è®¤è·¯ç”±ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> renderNotFound</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> isInIcestark</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> getBasename </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark-app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">Routes</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Router</span><span class="token plain"> basename</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token function" style="color:rgb(130, 170, 255)">isInIcestark</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getBasename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> component</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token maybe-class-name">Detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> activePath</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/detail&quot;</span><span class="token plain"> exact</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> component</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token function" style="color:rgb(130, 170, 255)">isInIcestark</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">renderNotFound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">NotFound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">Route</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>è¿™æ ·ï¼Œä¸ä¼šå¯¼è‡´å¾®åº”ç”¨æ­£å¸¸åŠ è½½ï¼Œä½†å¾®åº”ç”¨è·¯ç”±æ²¡æœ‰åŒ¹é…æˆåŠŸæ—¶å¯¼è‡´çš„é¡µé¢ç©ºç™½ï¼Œè€Œä¼šæ˜¾ç¤º 404 é¡µé¢ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬èƒ½æ¸…æ™°åœ°çŸ¥é“ï¼Œåœ¨ icestark æ‰§è¡Œç¯å¢ƒä¸‹ï¼Œéœ€è¦ä¿®æ”¹<a href="/docs/guide/use-child/react#2-%E5%AE%9A%E4%B9%89%E5%9F%BA%E5%87%86%E8%B7%AF%E7%94%B1">å¾®åº”ç”¨çš„ basename</a>ï¼Œä½¿å¾—å¾®åº”ç”¨å¯ä»¥ä¸å½“å‰è·¯ç”±åŒ¹é…ä¸Šã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="vite-å¾®åº”ç”¨æ”¯æŒæ²™ç®±å—"></a>Vite å¾®åº”ç”¨æ”¯æŒæ²™ç®±å—<a class="hash-link" href="#vite-å¾®åº”ç”¨æ”¯æŒæ²™ç®±å—" title="Direct link to heading">#</a></h2><p>æš‚ä¸æ”¯æŒæ²™ç®±ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¥å…¥-vite-å¾®åº”ç”¨ä¸»åº”ç”¨éœ€è¦å‡çº§ä¸º-vite-åº”ç”¨å—"></a>æ¥å…¥ Vite å¾®åº”ç”¨ï¼Œä¸»åº”ç”¨éœ€è¦å‡çº§ä¸º Vite åº”ç”¨å—<a class="hash-link" href="#æ¥å…¥-vite-å¾®åº”ç”¨ä¸»åº”ç”¨éœ€è¦å‡çº§ä¸º-vite-åº”ç”¨å—" title="Direct link to heading">#</a></h2><p><strong>ä¸éœ€è¦</strong>ã€‚ä¸»åº”ç”¨å¯ä»¥ä½¿ç”¨ webpack ç­‰é ES modules æ„å»ºå·¥å…·ï¼Œæ— éœ€å¯¹ä¸»åº”ç”¨è¿›è¡Œä»»ä½•æ„å»ºä¸Šçš„æ”¹é€ ã€‚å¯¹äºä¸»åº”ç”¨ï¼Œå”¯ä¸€éœ€è¦åšçš„æ˜¯ï¼šå‡çº§æœ€æ–°çš„ icestark ç‰ˆæœ¬ï¼Œå¹¶è®¾ç½® ES modules å¾®åº”ç”¨çš„åŠ è½½æ–¹å¼ï¼ˆloadScriptMode å­—æ®µï¼‰ è®¾ç½®ä¸º import å³å¯ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åˆ‡æ¢å¾®åº”ç”¨ä¸»åº”ç”¨æ ·å¼ä¸¢å¤±"></a>åˆ‡æ¢å¾®åº”ç”¨ï¼Œä¸»åº”ç”¨æ ·å¼ä¸¢å¤±<a class="hash-link" href="#åˆ‡æ¢å¾®åº”ç”¨ä¸»åº”ç”¨æ ·å¼ä¸¢å¤±" title="Direct link to heading">#</a></h2><p>é€šå¸¸æƒ…å†µæ˜¯ä¸»åº”ç”¨å¼€å¯äº† webpack <a href="https://webpack.js.org/guides/code-splitting/#dynamic-imports" target="_blank" rel="noopener noreferrer">Dynamic Imports</a> èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡ <a href="/docs/api/ice-stark#shouldassetsremove">shouldAssetsRemove</a> é˜²æ­¢é”™è¯¯åœ°ç§»é™¤ä¸»åº”ç”¨çš„æ ·å¼èµ„æºã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/App.jsx</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRouter</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">AppRoute</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">render</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">AppRouter</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        shouldAssetsRemove</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">url</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> element</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¦‚æœè¯·æ±‚ä¸»åº”ç”¨é™æ€èµ„æºï¼Œè¿”å› false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">includes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;www.framework.com&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token maybe-class-name">AppRouter</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¸»åº”ç”¨è·¯ç”±ä¹‹é—´è·³è½¬å¯¼è‡´é‡å¤æ¸²æŸ“"></a>ä¸»åº”ç”¨è·¯ç”±ä¹‹é—´è·³è½¬å¯¼è‡´é‡å¤æ¸²æŸ“<a class="hash-link" href="#ä¸»åº”ç”¨è·¯ç”±ä¹‹é—´è·³è½¬å¯¼è‡´é‡å¤æ¸²æŸ“" title="Direct link to heading">#</a></h2><p>å¦‚æœä¸»åº”ç”¨éœ€è¦åŒ…å«è·¯ç”±é¡µé¢ï¼Œåœ¨ <a href="/docs/guide/use-layout/react#%E4%B8%BB%E5%BA%94%E7%94%A8%E4%B8%AD%E5%A6%82%E4%BD%95%E5%8C%85%E5%90%AB%E8%B7%AF%E7%94%B1%E9%A1%B5%E9%9D%A2">React ä¸»åº”ç”¨æ¥å…¥</a> æˆ‘ä»¬æ¨èå°†ä¸»åº”ç”¨è·¯ç”±ä½œä¸ºä¸€ä¸ª <code>fallback</code> å¾®åº”ç”¨æ¥ä½¿ç”¨ã€‚ä½†ç”±äºåœ¨ä¸»åº”ç”¨è·¯ç”±åˆ‡æ¢æ—¶ï¼Œä¸Šå±‚ç»„ä»¶çŠ¶æ€æ”¹å˜ä¼šå¯¼è‡´ <code>fallback</code> åº”ç”¨é‡å¤æ¸²æŸ“ï¼Œå› æ­¤æ¨èä½¿ç”¨ <a href="https://reactjs.org/docs/react-api.html#reactmemo" target="_blank" rel="noopener noreferrer">React.memo</a> é˜²æ­¢ React ç»„ä»¶é‡å¤æ¸²æŸ“ã€‚å…·ä½“ç¤ºä¾‹å¯å‚è€ƒ <a href="/docs/guide/use-layout/react#%E4%B8%BB%E5%BA%94%E7%94%A8%E4%B8%AD%E5%A6%82%E4%BD%95%E5%8C%85%E5%90%AB%E8%B7%AF%E7%94%B1%E9%A1%B5%E9%9D%A2">ä¸»åº”ç”¨ä¸­å¦‚ä½•åŒ…å«è·¯ç”±é¡µé¢</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ice-lab/icestark/tree/gh-pages/docs/faq.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¾®åº”ç”¨-bundle-åŠ è½½å¤±è´¥" class="table-of-contents__link">å¾®åº”ç”¨ bundle åŠ è½½å¤±è´¥ï¼Ÿ</a></li><li><a href="#å¾®åº”ç”¨å¼€å‘æ—¶è¯·æ±‚æœ¬åœ°-mock-æ¥å£" class="table-of-contents__link">å¾®åº”ç”¨å¼€å‘æ—¶è¯·æ±‚æœ¬åœ° Mock æ¥å£ï¼Ÿ</a></li><li><a href="#å¾®åº”ç”¨æœ¬åœ°å¼€å‘å¦‚ä½•è°ƒè¯•" class="table-of-contents__link">å¾®åº”ç”¨æœ¬åœ°å¼€å‘å¦‚ä½•è°ƒè¯•ï¼Ÿ</a></li><li><a href="#åº”ç”¨å¯ç”¨-lazy-åchunk-åŠ è½½å¤±è´¥" class="table-of-contents__link">åº”ç”¨å¯ç”¨ lazy åï¼Œchunk åŠ è½½å¤±è´¥</a></li><li><a href="#error-invariant-failed-you-should-not-use-withrouternavigation--outside-a-router" class="table-of-contents__link">Error: Invariant failed: You should not use <code>&lt;withRouter(Navigation) /&gt;</code> outside a <code>&lt;Router&gt;</code></a></li><li><a href="#å®˜æ–¹-demo-å¦‚ä½•å¯ç”¨-hashrouter" class="table-of-contents__link">å®˜æ–¹ Demo å¦‚ä½•å¯ç”¨ HashRouter</a></li><li><a href="#å…¼å®¹-ie-æµè§ˆå™¨" class="table-of-contents__link">å…¼å®¹ IE æµè§ˆå™¨</a></li><li><a href="#ie-æµè§ˆå™¨ç¯å¢ƒä¸‹æ”¯æŒæ²™ç®±å—" class="table-of-contents__link">IE æµè§ˆå™¨ç¯å¢ƒä¸‹æ”¯æŒæ²™ç®±å—</a></li><li><a href="#å¦‚ä½•è§£å†³-script-error" class="table-of-contents__link">å¦‚ä½•è§£å†³ Script Error</a></li><li><a href="#é¡µé¢ç©ºç™½æ§åˆ¶å°æ²¡æœ‰é”™è¯¯" class="table-of-contents__link">é¡µé¢ç©ºç™½ï¼Œæ§åˆ¶å°æ²¡æœ‰é”™è¯¯</a></li><li><a href="#vite-å¾®åº”ç”¨æ”¯æŒæ²™ç®±å—" class="table-of-contents__link">Vite å¾®åº”ç”¨æ”¯æŒæ²™ç®±å—</a></li><li><a href="#æ¥å…¥-vite-å¾®åº”ç”¨ä¸»åº”ç”¨éœ€è¦å‡çº§ä¸º-vite-åº”ç”¨å—" class="table-of-contents__link">æ¥å…¥ Vite å¾®åº”ç”¨ï¼Œä¸»åº”ç”¨éœ€è¦å‡çº§ä¸º Vite åº”ç”¨å—</a></li><li><a href="#åˆ‡æ¢å¾®åº”ç”¨ä¸»åº”ç”¨æ ·å¼ä¸¢å¤±" class="table-of-contents__link">åˆ‡æ¢å¾®åº”ç”¨ï¼Œä¸»åº”ç”¨æ ·å¼ä¸¢å¤±</a></li><li><a href="#ä¸»åº”ç”¨è·¯ç”±ä¹‹é—´è·³è½¬å¯¼è‡´é‡å¤æ¸²æŸ“" class="table-of-contents__link">ä¸»åº”ç”¨è·¯ç”±ä¹‹é—´è·³è½¬å¯¼è‡´é‡å¤æ¸²æŸ“</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¤¾åŒº</h4><ul class="footer__items"><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç¤¾åŒºé’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group-inside.JPG" target="_blank" rel="noopener noreferrer" class="footer__link-item">é˜¿é‡Œå†…éƒ¨é’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">å¸®åŠ©</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">åé¦ˆé—®é¢˜</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">æäº¤éœ€æ±‚</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a href="https://ice.work/" target="_blank" rel="noopener noreferrer" class="footer__link-item">é£å†°ï¼ˆICEï¼‰</a></li><li class="footer__item"><a href="https://rax.js.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rax</a></li><li class="footer__item"><a href="https://appworks.site" target="_blank" rel="noopener noreferrer" class="footer__link-item">AppWorks</a></li><li class="footer__item"><a href="https://openkraken.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kraken</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 é£å†°ï¼ˆICEï¼‰. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.42d3929b.js"></script>
<script src="/assets/js/main.b610525b.js"></script>
</body>
</html>