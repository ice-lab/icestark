<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="icestark Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="icestark Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYD48PYEE0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYD48PYEE0",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="icestark" href="/opensearch.xml"><title data-react-helmet="true">icestark 2.4.0 | icestark</title><meta data-react-helmet="true" property="og:title" content="icestark 2.4.0 | icestark"><meta data-react-helmet="true" name="description" content="Announcing icestark 2.4.0"><meta data-react-helmet="true" property="og:description" content="Announcing icestark 2.4.0"><meta data-react-helmet="true" property="og:url" content="https://micro-frontends.ice.work/blog/00-icestark-2-4-0"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://micro-frontends.ice.work/blog/00-icestark-2-4-0"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/blog/00-icestark-2-4-0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/blog/00-icestark-2-4-0" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.27027981.css">
<link rel="preload" href="/assets/js/runtime~main.a5d16c38.js" as="script">
<link rel="preload" href="/assets/js/main.cb2addfc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/guide">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/docs/api/ice-stark">API</a><a class="navbar__item navbar__link" href="/docs/faq">å¸¸è§é—®é¢˜</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">åšå®¢</a><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guide">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/ice-stark">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">åšå®¢</a></li><li class="menu__list-item"><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/00-icestark-2-4-0">icestark 2.4.0</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/01-icestark-2-5-0">icestark 2.5.0</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/02-icestark-2-6-0">icestark 2.6.0</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">icestark 2.4.0</h1><div class="margin-vert--md"><time datetime="2021-11-05T09:22:07.185Z" class="blogPostDate_fNvV">November 5, 2021 Â· 7 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/maoxiaoke" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/13417006?v=4" alt="é‚£å’"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/maoxiaoke" target="_blank" rel="noopener noreferrer">é‚£å’</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="announcing-icestark-240"></a>Announcing icestark 2.4.0<a class="hash-link" href="#announcing-icestark-240" title="Direct link to heading">#</a></h2><p><a href="https://github.com/ice-lab/icestark/releases/tag/v2.4.0" target="_blank" rel="noopener noreferrer">icestark</a> 2.4.0 å‘å¸ƒçš„ä¸»è¦ç‰¹æ€§æœ‰ï¼š</p><ul><li><a href="#%E8%A7%A3%E5%86%B3-script-error-%E9%94%99%E8%AF%AF">è§£å†³ Script Error é”™è¯¯</a></li><li><a href="#icestark-data-%E6%94%AF%E6%8C%81-symbol-key">@ice/stark-data æ”¯æŒ Symbol key</a></li><li><a href="#%E7%8B%AC%E7%AB%8B%E5%AE%98%E7%BD%91">ç‹¬ç«‹å®˜ç½‘ https://micro-frontends.ice.work/</a></li><li><a href="#%E6%8F%90%E4%BE%9B-ice-%E7%94%A8%E6%88%B7%E6%B6%88%E8%B4%B9%E6%A1%86%E6%9E%B6%E5%BA%94%E7%94%A8%E4%BC%A0%E9%80%92%E7%9A%84-props">æä¾› ice ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„ props</a></li><li><a href="#%E5%A2%9E%E5%BC%BA%E7%9A%84%E6%B2%99%E7%AE%B1%E8%83%BD%E5%8A%9B">å¢å¼ºçš„æ²™ç®±èƒ½åŠ›</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è§£å†³-script-error-é”™è¯¯"></a>è§£å†³ Script Error é”™è¯¯<a class="hash-link" href="#è§£å†³-script-error-é”™è¯¯" title="Direct link to heading">#</a></h3><p>å¾®åº”ç”¨ä¸Šçº¿è¿è¡Œé‡åˆ°é”™è¯¯æ—¶ï¼Œç›‘æ§å¹³å°é€šå¸¸ä¼šæ•è·åˆ° Script Error çš„è¾“å‡ºï¼š</p><p><img src="https://img.alicdn.com/imgextra/i4/O1CN01BiMLFq1YXeDQVV7Ri_!!6000000003069-0-tps-680-29.jpg" alt="script error"></p><p>å¤„äºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šåˆ»æ„éšè—å…¶ä»–åŸŸçš„ JavaScript æ–‡ä»¶æŠ›å‡ºçš„å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œæ¥é¿å…æ•æ„Ÿä¿¡æ¯è¢«ä¸å—æ§åˆ¶çš„ç¬¬ä¸‰æ–¹è„šæœ¬æ•è·ã€‚å› æ­¤ï¼Œæµè§ˆå™¨åªå…è®¸åŒåŸŸä¸‹çš„è„šæœ¬æ•è·å…·ä½“é”™è¯¯ä¿¡æ¯ï¼Œè€Œå…¶ä»–è„šæœ¬åªçŸ¥é“å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œä½†æ— æ³•è·çŸ¥é”™è¯¯çš„å…·ä½“å†…å®¹ã€‚</p><p>ä¸ºè§£å†³è·¨åŸŸæ•è· JavaScript å¼‚å¸¸ï¼Œéœ€è¦ä¸º <code>&lt;script &gt;</code> æ·»åŠ  <code>crossorigin=&quot;anonymous&quot;</code> å±æ€§ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">script src</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://another-domain.com/app.js&quot;</span><span class="token plain"> crossorigin</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;anonymous&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">script</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>åœ¨æœ€æ–°çš„ icestark ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>scriptAttributes</code> ä¸ºå¾®åº”ç”¨çš„ JavaScript æ–‡ä»¶æ·»åŠ è¿™ä¸€å±æ€§ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å¾®åº”ç”¨é…ç½®</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  activePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;//unpkg.com/app1/js/chunk.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;//unpkg.com/app1/js/index.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;//unpkg.com/app1/css/index.css&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ä¸ºå¾®åº”ç”¨ app1 çš„æ‰€æœ‰ js èµ„æºæ·»åŠ  crossorigin=&quot;anonymous&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  scriptAttributes</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;crossorigin=anonymous&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// or</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ä¸º `//unpkg.com/app1/js/chunk.js` èµ„æºæ·»åŠ  crossorigin=&quot;anonymous&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">scriptAttributes</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">includes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;chunk&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;crossorigin=anonymous&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>æœ‰å…³ scriptAttributes ä½¿ç”¨çš„æ›´å¤šå†…å®¹ï¼Œå¯å‚è€ƒ <a href="/docs/api/ice-stark#scriptattributes">api - scriptAttributes</a></p><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ scriptAttributes æ¥ä¸ºæŸä¸ª JavaScript æ–‡ä»¶åšç‰¹æ®Šçš„æ ‡è®°ã€‚æ¯”å¦‚ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ä¸ºå¾®åº”ç”¨çš„ chunk èµ„æºæ ‡è®°ç±»å‹</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function-variable function" style="color:rgb(130, 170, 255)">scriptAttributes</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">includes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;chunk&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resourceType=chunk&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸‹å±æ€§åœ¨ scriptAttributes ä¸­ä¸å¯è®¾ç½®ï¼š</p><ul><li><code>async</code></li><li><code>id</code></li><li><code>type</code></li><li><code>src</code></li><li><code>async</code></li><li><code>icestark</code></li></ul><p>åœ¨å¼€å‘é˜¶æ®µï¼Œicestark ä¼šè¿›è¡Œ error æç¤ºï¼Œæ¯”å¦‚è¯•å›¾é€šè¿‡ <code>scriptAttributes</code> å­—æ®µä¿®æ”¹ JavaScript æ–‡ä»¶çš„ <code>src</code>ï¼š</p><p><img src="https://img.alicdn.com/imgextra/i3/O1CN01L5Sec41OdvUERElhd_!!6000000001729-0-tps-1362-282.jpg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="icestark-data-æ”¯æŒ-symbol-key"></a>@ice/stark-data æ”¯æŒ Symbol key<a class="hash-link" href="#icestark-data-æ”¯æŒ-symbol-key" title="Direct link to heading">#</a></h3><p><a href="/docs/guide/advanced/communication">@ice/stark-data</a> æ˜¯ icestark æä¾›çš„åº”ç”¨é—´é€šä¿¡è§£å†³æ–¹æ¡ˆã€‚ç°åœ¨ï¼Œå·²æ”¯æŒ <code>Symbol</code> ä½œä¸ºæ ‡è¯† keyã€‚</p><blockquote><p>å¦‚æœæ‚¨å¯¹ Symbol è¿˜ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å…ˆåœ¨è¿™é‡Œ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" target="_blank" rel="noopener noreferrer">äº†è§£</a>ä¸‹ã€‚</p></blockquote><p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><p>ï¼ˆ1ï¼‰åœ¨ä¸»åº”ç”¨ä¸­ç›‘å¬äº‹ä»¶</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> event </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark-data&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sym </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Symbol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;freshMessage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sym&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// é‡æ–°è·å–æ¶ˆæ¯æ•°</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ï¼ˆ2ï¼‰åœ¨å¾®åº”ç”¨è§¦å‘äº‹ä»¶</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> event </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark-data&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sym </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Symbol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;freshMessage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">emit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sym&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>åƒä¸‡ä¸è¦ä½¿ç”¨ <code>new Symbol()</code> æˆ– <code>Symbol()</code> æ¥ç”Ÿæˆ symbolï¼Œå› ä¸ºï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Symbol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;foo&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!==</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Symbol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;foo&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç‹¬ç«‹å®˜ç½‘"></a>ç‹¬ç«‹å®˜ç½‘<a class="hash-link" href="#ç‹¬ç«‹å®˜ç½‘" title="Direct link to heading">#</a></h3><p>icestark äºå‰ä¸¤å‘¨ä¸Šçº¿ç‹¬ç«‹<a href="https://micro-frontends.ice.work/" target="_blank" rel="noopener noreferrer">å®˜ç½‘</a>ã€‚æˆ‘ä»¬é‡æ–°æ¢³ç†äº†æ‰€æœ‰æ–‡æ¡£ï¼Œå¹¶æ‰©å±•äº†å¾ˆå¤šå†…å®¹ã€‚</p><ol><li><p>ä¸º <a href="https://ice.work/" target="_blank" rel="noopener noreferrer">icejs</a>ã€umiã€create-react-appã€nuxt.jsã€next.jsã€Angular ç­‰å…¶ä»–å¤šç§æ¡†æ¶çš„ç”¨æˆ·æä¾›äº†æ¥å…¥ icestark æŒ‡å¯¼ï¼Œè¯·å‚é˜… <a href="/docs/guide/use-child/others">å…¶ä»–æ¡†æ¶æ¥å…¥å¾®åº”ç”¨</a>ï¼›</p></li><li><p>ä¸ºæ‰€æœ‰ api æ ‡è®°äº†æ”¯æŒçš„ç‰ˆæœ¬;</p></li></ol><p><img src="https://img.alicdn.com/imgextra/i1/O1CN01dp76nB2A5fPvnBB6O_!!6000000008152-0-tps-956-186.jpg"></p><ol start="3"><li>ä»¥åŠæ›´æ˜æ˜¾çš„ <a href="/docs/faq">FAQ å…¥å£</a>ã€‚</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æä¾›-ice-ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„-props"></a>æä¾› <a href="https://ice.work/" target="_blank" rel="noopener noreferrer">ice</a> ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„ props<a class="hash-link" href="#æä¾›-ice-ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„-props" title="Direct link to heading">#</a></h3><p>åœ¨ <a href="/docs/guide/upgrade">icestark 2.x</a> ç‰ˆæœ¬ä¸­ï¼Œæ”¯æŒæ¡†æ¶åº”ç”¨é€šè¿‡ <a href="/docs/api/ice-stark#props">props</a> ä¼ é€’å¾®åº”ç”¨è‡ªå®šä¹‰å‚æ•°ã€‚å¦‚ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// æ¡†æ¶åº”ç”¨</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const appConfig = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> icestark: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type: &#x27;framework&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Layout: BasicLayout,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   getApps: async () =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     const apps = [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       path: &#x27;/seller&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       title: &#x27;å•†å®¶å¹³å°&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       url: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//ice.alicdn.com/icestark/child-seller-react/index.js&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">         &#x27;//ice.alicdn.com/icestark/child-seller-react/index.css&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">       props: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">         name: &#x27;micro-child&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     return apps;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">runApp(appConfig);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>å¯¹äº ice ç”¨æˆ·ï¼Œæˆ‘ä»¬æä¾›äº† <a href="https://ice.work/docs/guide/advanced/icestark" target="_blank" rel="noopener noreferrer">build-plugin-icestark</a> æ¥æ¥å…¥ icestarkã€‚åœ¨æœ€æ–°çš„ <code>build-plugin-icestark</code> ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡ <a href="https://ice.work/docs/guide/basic/router#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">é¡µé¢ç»„ä»¶</a> çš„ <code>props</code> è·å–åˆ°æ¡†æ¶åº”ç”¨ä¼ é€’çš„ props å‚æ•°ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">Detail</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token parameter"> props </span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> frameworkProps</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> props</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">div</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token maybe-class-name">Detail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>æ³¨æ„ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤å°† <code>build-plugin-icestark</code> å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token variable" style="color:rgb(191, 199, 213)">$npm</span><span class="token plain"> i build-plugin-icestark@latest -D</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>å¯¹äºè¿˜åœ¨ä½¿ç”¨ icestark 1.x çš„ç”¨æˆ·ï¼Œè¯·æŸ¥é˜…å‡çº§<a href="/docs/guide/upgrade">æŒ‡å—</a>ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¢å¼ºçš„æ²™ç®±èƒ½åŠ›"></a>å¢å¼ºçš„æ²™ç®±èƒ½åŠ›<a class="hash-link" href="#å¢å¼ºçš„æ²™ç®±èƒ½åŠ›" title="Direct link to heading">#</a></h3><p>åœ¨æœ€æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº† <code>eval</code> å‡½æ•°åœ¨æ²™ç®±ä¸­æ‰§è¡Œçš„ä¸€äº›å¼‚å¸¸è¡Œä¸ºã€‚è¯¥è¡Œä¸ºæ˜¯ <code>eval</code> å‡½æ•°é”™è¯¯è¢« <code>bind</code> å¯¼è‡´æ‰§è¡Œä½œç”¨åŸŸä¸ºå…¨å±€ä½œç”¨åŸŸã€‚æ‚¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ç®€å•éªŒè¯ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  eval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">bind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;console.log(obj)&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">boo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Uncaught ReferenceError: obj is not defined</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>åœ¨æœ€æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨ä»£ç ä¸­æ­£å¸¸ä½¿ç”¨ <code>eval</code> å‡½æ•°ï¼Œå¹¶å¾—åˆ°å®ƒçš„é¢„æœŸè¡Œä¸ºã€‚</p><p>åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæ²™ç®±ä¸­çš„ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" target="_blank" rel="noopener noreferrer">å‡å€¼</a> ä¸ä¼šè¢«æ•è·ã€‚æ¯”å¦‚ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// åœ¨æ²™ç®±ä¸­æ‰§è¡Œ</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// undefined</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>åœ¨æœ€è¿‘çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®æ­£äº†è¿™ä¸€è¡Œä¸ºã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åç»­çš„ç‰ˆæœ¬è®¡åˆ’"></a>åç»­çš„ç‰ˆæœ¬è®¡åˆ’<a class="hash-link" href="#åç»­çš„ç‰ˆæœ¬è®¡åˆ’" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬ä¼šæŒç»­æ‰©å±• icestark çš„èƒ½åŠ›ï¼Œæå‡å¾®å‰ç«¯ä½“éªŒã€‚åœ¨æ¥ä¸‹æ¥çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¼šï¼š</p><ul><li>ä¼˜åŒ– icestark æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ (<a href="https://github.com/ice-lab/icestark/issues/259" target="_blank" rel="noopener noreferrer">issue</a>)ï¼›</li><li>ä¸º <a href="/docs/api/ice-stark#approuter">React Component</a> å’Œ <a href="/docs/api/ice-stark#%E6%A0%B8%E5%BF%83-api">Api</a> çš„ä½¿ç”¨æ–¹å¼å¯¹é½æ‰€æœ‰å­—æ®µã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´æŸäº›å­—æ®µåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å¤„äº <code>@deprecated</code> é˜¶æ®µ (<a href="https://github.com/ice-lab/icestark/issues/299" target="_blank" rel="noopener noreferrer">rfc</a>)ï¼›</li><li>ä¼šä¿®å¤ä½¿ç”¨ Prompt ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜ï¼›(<a href="https://github.com/ice-lab/icestark/issues/325" target="_blank" rel="noopener noreferrer">issue</a>)ï¼›</li><li>æä¾›æ›´ç®€å•ã€æ–¹ä¾¿æ ·å¼éš”ç¦»æ–¹æ¡ˆã€‚</li></ul></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/v-2">v2</a><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/01-icestark-2-5-0"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">icestark 2.5.0 Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#announcing-icestark-240" class="table-of-contents__link">Announcing icestark 2.4.0</a><ul><li><a href="#è§£å†³-script-error-é”™è¯¯" class="table-of-contents__link">è§£å†³ Script Error é”™è¯¯</a></li><li><a href="#icestark-data-æ”¯æŒ-symbol-key" class="table-of-contents__link">@ice/stark-data æ”¯æŒ Symbol key</a></li><li><a href="#ç‹¬ç«‹å®˜ç½‘" class="table-of-contents__link">ç‹¬ç«‹å®˜ç½‘</a></li><li><a href="#æä¾›-ice-ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„-props" class="table-of-contents__link">æä¾› ice ç”¨æˆ·æ¶ˆè´¹æ¡†æ¶åº”ç”¨ä¼ é€’çš„ props</a></li><li><a href="#å¢å¼ºçš„æ²™ç®±èƒ½åŠ›" class="table-of-contents__link">å¢å¼ºçš„æ²™ç®±èƒ½åŠ›</a></li></ul></li><li><a href="#åç»­çš„ç‰ˆæœ¬è®¡åˆ’" class="table-of-contents__link">åç»­çš„ç‰ˆæœ¬è®¡åˆ’</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¤¾åŒº</h4><ul class="footer__items"><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç¤¾åŒºé’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group-inside.JPG" target="_blank" rel="noopener noreferrer" class="footer__link-item">é˜¿é‡Œå†…éƒ¨é’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">å¸®åŠ©</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">åé¦ˆé—®é¢˜</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">æäº¤éœ€æ±‚</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a href="https://ice.work/" target="_blank" rel="noopener noreferrer" class="footer__link-item">é£å†°ï¼ˆICEï¼‰</a></li><li class="footer__item"><a href="https://rax.js.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rax</a></li><li class="footer__item"><a href="https://appworks.site" target="_blank" rel="noopener noreferrer" class="footer__link-item">AppWorks</a></li><li class="footer__item"><a href="https://openkraken.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kraken</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 é£å†°ï¼ˆICEï¼‰. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a5d16c38.js"></script>
<script src="/assets/js/main.cb2addfc.js"></script>
</body>
</html>