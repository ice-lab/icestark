<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="icestark Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="icestark Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYD48PYEE0"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BYD48PYEE0",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="icestark" href="/opensearch.xml"><title data-react-helmet="true">icestark 2.5.0 | icestark</title><meta data-react-helmet="true" property="og:title" content="icestark 2.5.0 | icestark"><meta data-react-helmet="true" name="description" content="Announcing icestark 2.5.0"><meta data-react-helmet="true" property="og:description" content="Announcing icestark 2.5.0"><meta data-react-helmet="true" property="og:url" content="https://micro-frontends.ice.work/blog/01-icestark-2-5-0"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://micro-frontends.ice.work/blog/01-icestark-2-5-0"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/blog/01-icestark-2-5-0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://micro-frontends.ice.work/blog/01-icestark-2-5-0" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.27027981.css">
<link rel="preload" href="/assets/js/runtime~main.d43f27da.js" as="script">
<link rel="preload" href="/assets/js/main.58f1a74e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/guide">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/docs/api/ice-stark">API</a><a class="navbar__item navbar__link" href="/docs/faq">å¸¸è§é—®é¢˜</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">åšå®¢</a><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="icestark" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">ICESTARK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guide">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/ice-stark">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">åšå®¢</a></li><li class="menu__list-item"><a href="https://github.com/ice-lab/icestark" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/01-icestark-2-5-0">icestark 2.5.0</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/02-icestark-2-6-0">icestark 2.6.0</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/03-icestark-2-7-0">icestark 2.7.0</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/00-icestark-2-4-0">icestark 2.4.0</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">icestark 2.5.0</h1><div class="margin-vert--md"><time datetime="2022-02-21T02:45:47.076Z" class="blogPostDate_fNvV">February 21, 2022 Â· 6 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/maoxiaoke" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/u/13417006?v=4" alt="é‚£å’"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/maoxiaoke" target="_blank" rel="noopener noreferrer">é‚£å’</a></h4><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="announcing-icestark-250"></a>Announcing icestark 2.5.0<a class="hash-link" href="#announcing-icestark-250" title="Direct link to heading">#</a></h2><p>åœ¨ 2.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ç»Ÿä¸€äº†åœ¨ä½¿ç”¨ <a href="/docs/api/ice-stark#%E6%A0%B8%E5%BF%83-api">API</a> å’Œ <a href="/docs/api/ice-stark#react-%E7%BB%84%E4%BB%B6">React Component</a> æ¥å…¥çš„ä¸€äº›å­—æ®µä½¿ç”¨æ–¹å¼ï¼Œå¹¶é›†ä¸­ä¿®å¤äº†ä¸€äº›å¸¸è§é—®é¢˜ã€‚æœ¬æ¬¡æ›´æ–°ä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li><a href="#%E5%AF%B9%E9%BD%90-api-%E5%92%8C-react-component-%E4%BD%BF%E7%94%A8%E5%AD%97%E6%AE%B5">å¯¹é½ API å’Œ React Component ä½¿ç”¨å­—æ®µ</a></li><li><a href="#%E9%87%8D%E6%9E%84%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95">é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•</a></li><li><a href="#%E4%BC%98%E5%8C%96-icestark-%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91%E4%BB%A5%E5%8F%8A%E6%B2%99%E7%AE%B1%E7%9A%84%E8%B0%83%E8%AF%95%E4%BD%93%E9%AA%8C">ä¼˜åŒ– icestark æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ</a></li><li><a href="#%E4%BF%AE%E5%A4%8D%E4%BD%BF%E7%94%A8-prompt-%E7%BB%84%E4%BB%B6%E4%BA%8C%E6%AC%A1%E5%BC%B9%E6%A1%86%E7%9A%84%E9%97%AE%E9%A2%98">ä¿®å¤ä½¿ç”¨ Prompt ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å¯¹é½-api-å’Œ-react-component-ä½¿ç”¨å­—æ®µ"></a>å¯¹é½ API å’Œ React Component ä½¿ç”¨å­—æ®µ<a class="hash-link" href="#å¯¹é½-api-å’Œ-react-component-ä½¿ç”¨å­—æ®µ" title="Direct link to heading">#</a></h3><p>åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œ<a href="/docs/api/ice-stark#appconfig">AppConfig</a> æœ‰äº›å­—æ®µå’Œ <code>&lt;AppRoute /&gt;</code> æ¥æ”¶çš„ props å­˜åœ¨ä¸€å®šçš„å·®å¼‚ï¼Œå¯¹ç”¨æˆ·çš„ä½¿ç”¨é€ æˆäº†å›°æ¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ•´ä½“æ¢³ç†äº†ç›¸å…³å­—æ®µï¼Œä¸»è¦çš„å˜æ›´å¦‚ä¸‹ï¼š</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-approute--çš„-path-å­—æ®µåºŸå¼ƒè¯·ä½¿ç”¨-activepath-å­—æ®µ"></a>1. <code>&lt;AppRoute /&gt;</code> çš„ <a href="/docs/api/ice-stark#path">path</a> å­—æ®µåºŸå¼ƒï¼Œè¯·ä½¿ç”¨ <a href="/docs/api/ice-stark#activepath">activePath</a> å­—æ®µã€‚<a class="hash-link" href="#1-approute--çš„-path-å­—æ®µåºŸå¼ƒè¯·ä½¿ç”¨-activepath-å­—æ®µ" title="Direct link to heading">#</a></h4><p><code>activePath</code> æ˜¯ <a href="/docs/api/ice-stark#appconfig">appConfig</a> å®šä¹‰çš„åŸºç¡€å­—æ®µï¼Œé™¤äº†æ”¯æŒ <a href="/docs/api/ice-stark#path">path</a> æ‰€æœ‰é…ç½®èƒ½åŠ›å¤–ï¼Œè¿˜æ”¯æŒå‡½æ•°å†™æ³•ï¼Œå¯è‡ªå®šä¹‰è·¯ç”±åŒ¹é…é€»è¾‘ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><div tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">activePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">includes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// å½“è·¯ç”±åŒ¹é…ä¸Š /sellerï¼Œåˆ™æ¿€æ´»åº”ç”¨</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨å‡½æ•°å†™æ³•çš„ <code>activePath</code> æ˜¯ï¼Œéœ€è¦æœ‰ <code>name</code> å­—æ®µæ ‡è¯†ï¼Œå¦åˆ™ä¼šæœ‰ Error æç¤ºï¼›å¯¹äºå…¶ä»–éå‡½æ•°å†™æ³•ï¼Œicestark ä¼šé»˜è®¤æ ¹æ® <code>activePath</code> çš„é…ç½®ç”Ÿæˆä¸€ä¸ª <code>name</code> å€¼ã€‚</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>å»ºè®®åœ¨ <a href="/docs/api/ice-stark#appconfig">é…ç½®å¾®åº”ç”¨</a> æ—¶ï¼Œæ·»åŠ  <code>name</code> å­—æ®µã€‚</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-appconfig-æä¾›-basename-å­—æ®µ"></a>2. AppConfig æä¾› basename å­—æ®µ<a class="hash-link" href="#2-appconfig-æä¾›-basename-å­—æ®µ" title="Direct link to heading">#</a></h4><p><a href="/docs/api/ice-stark#basename">basename</a> å­—æ®µå¯ä»¥æ–¹ä¾¿åœ°è‡ªå®šä¹‰å¾®åº”ç”¨è·¯ç”±çš„ <a href="https://reactrouter.com/web/api/BrowserRouter/basename-string" target="_blank" rel="noopener noreferrer">basename</a>ã€‚æˆ‘ä»¬åœ¨ <code>&lt;AppRoute /&gt;</code> çš„ Props æ”¯æŒäº†è¿™ä¸€å­—æ®µï¼Œä½†æ˜¯åœ¨ AppConfig å¹¶æ²¡æœ‰æ”¯æŒè¿™ä¸€å­—æ®µã€‚æ¯”å¦‚ï¼Œå½“ä½¿ç”¨ <a href="/docs/api/ice-stark#createmicroapp">createMicroApp</a> åŠ è½½å¾®åº”ç”¨æ—¶ï¼Œéœ€è¦é€šè¿‡ä¸»åŠ¨è°ƒç”¨ <a href="/docs/api/ice-stark-app#getbasename">setBasename</a> æ¥è®¾ç½® <code>basename</code>ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> createMicroApp </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> setBasename </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark-app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">setBasename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">createMicroApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  activePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/js/index.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  container</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>basename</code> å­—æ®µï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> createMicroApp </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@ice/stark&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">createMicroApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  activePath</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  basename</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/seller&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  url</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/js/index.js&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  container</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-åœ¨-approuter--ä¸­ä½¿ç”¨-onloadingapponfinishloadingonerror-ç­‰-hooks"></a>3. åœ¨ <code>&lt;AppRouter /&gt;</code> ä¸­ä½¿ç”¨ onLoadingAppã€onFinishLoadingã€onError ç­‰ Hooks<a class="hash-link" href="#3-åœ¨-approuter--ä¸­ä½¿ç”¨-onloadingapponfinishloadingonerror-ç­‰-hooks" title="Direct link to heading">#</a></h4><p>åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨ <code>&lt;AppRoute /&gt;</code> ä¸å¤ªæ–¹ä¾¿å¯¹å¾®åº”ç”¨æ‰§è¡Œçš„å„ä¸ªé˜¶æ®µè¿›è¡Œç›‘æ§æˆ–åŸ‹ç‚¹ï¼ˆè™½ç„¶è¿™äº›èƒ½åŠ›å‡åœ¨ <a href="/docs/api/ice-stark#%E6%A0%B8%E5%BF%83-api">API</a> ä¸­æ”¯æŒï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨ <code>&lt;AppRoute /&gt;</code> ä¸­é€å‡ºäº†è¿™äº› Hooksã€‚</p><blockquote><p>æ›´å¤šæœ‰å…³ <a href="#%E5%AF%B9%E9%BD%90-api-%E5%92%8C-react-component-%E4%BD%BF%E7%94%A8%E5%AD%97%E6%AE%B5">å¯¹é½ API å’Œ React Component ä½¿ç”¨å­—æ®µ</a> å¯å‚è§ <a href="https://github.com/ice-lab/icestark/issues/299" target="_blank" rel="noopener noreferrer">RFC</a>ã€‚</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•"></a>é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•<a class="hash-link" href="#é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•" title="Direct link to heading">#</a></h3><p>åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹ <a href="https://github.com/ice-lab/icestark/blob/release/2.5.0/src/util/checkActive.ts" target="_blank" rel="noopener noreferrer">è·¯ç”±åŒ¹é…ç®—æ³•</a> è¿›è¡Œäº†é‡æ„ã€‚é‡æ„ä¹‹åçš„ç‰ˆæœ¬å¹¶ä¸ä¼šå½±å“ç°æœ‰çš„ä»£ç åŠŸèƒ½ï¼Œå¯¹äºè¿™ä¸€åŠŸèƒ½çš„å˜æ›´ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å……åˆ†çš„æµ‹è¯•ã€‚ä½†å¦‚æœæ‚¨çš„åº”ç”¨å› æ­¤å—åˆ°äº†ä¸€äº›å½±å“ï¼Œæ¬¢è¿é€šè¿‡ <a href="https://github.com/ice-lab/icestark/issues" target="_blank" rel="noopener noreferrer">issue</a> æ¥å‘ŠçŸ¥æˆ‘ä»¬ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¼˜åŒ–-icestark-æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ"></a>ä¼˜åŒ– icestark æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ<a class="hash-link" href="#ä¼˜åŒ–-icestark-æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ" title="Direct link to heading">#</a></h3><p>å½“æˆ‘ä»¬æœ¬åœ°å¼€å‘æ—¶å€™ï¼Œsource map å¯¹å®šä½æºç éå¸¸æœ‰æ•ˆã€‚ä½†æ˜¯ä½¿ç”¨ <a href="/docs/api/ice-stark/#loadscriptmode">fetch</a> æ¥åŠ è½½ js èµ„æºæ—¶å€™ï¼Œç”±äºå½“å‰ origin æ˜¯ä¸»åº”ç”¨çš„ originï¼Œå¯¼è‡´ source map æ–‡ä»¶åŠ è½½å¤±è´¥ã€‚å¦‚å›¾ï¼š</p><p><img src="https://img.alicdn.com/imgextra/i3/O1CN01Fzwbb31LpQb0uqoHy_!!6000000001348-0-tps-2996-396.jpg"></p><p>åœ¨ <a href="https://docs.google.com/document/u/0/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/mobilebasic" target="_blank" rel="noopener noreferrer">Source Map Revision 3 Proposal</a> ä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€äº›è››ä¸é©¬è¿¹ï¼Œé€šè¿‡åœ¨ä»£ç æœ«å°¾æ·»åŠ  <code>//# sourceURL=&lt;url&gt; */</code> è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>è¯¥æ–¹å¼å¯¹ sandbox åŒæ ·æœ‰æ•ˆï¼Œå¾ˆå¥½åœ°ç¼“è§£äº† sandbox çš„å®šä½éš¾é¢˜</li><li>å¦‚æœæ˜¯é€šè¿‡ <code>&lt;script /&gt;</code> æ ‡ç­¾åŠ è½½çš„èµ„æºï¼Œä¸å—è¯¥é—®é¢˜é™åˆ¶</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¿®å¤ä½¿ç”¨-prompt-ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜"></a>ä¿®å¤ä½¿ç”¨ Prompt ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜<a class="hash-link" href="#ä¿®å¤ä½¿ç”¨-prompt-ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜" title="Direct link to heading">#</a></h3><p>å½“å¾®åº”ç”¨ä½¿ç”¨ ReactRouterDOM çš„ <a href="https://reactrouter.com/ice-stark/api/Prompt" target="_blank" rel="noopener noreferrer">Prompt</a> ç»„ä»¶æ—¶ï¼Œä¼šå‡ºç°ä¸¤æ¬¡ confirm æ¡†ç¡®è®¤ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://img.alicdn.com/imgextra/i2/O1CN01LRBZex1KyIeJBcoOP_!!6000000001232-1-tps-1694-546.gif"></p><p>æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†è¿™ä¸€å¼‚å¸¸è¡Œä¸ºã€‚å¯ä»¥è®¿é—® <a href="https://zhuanlan.zhihu.com/p/394624654" target="_blank" rel="noopener noreferrer">ä» Prompt æ¥çœ‹å¾®å‰ç«¯è·¯ç”±åŠ«æŒåŸç†</a> äº†è§£æˆ‘ä»¬å¯¹ä¸€é—®é¢˜çš„è¿½æº¯ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åç»­çš„ç‰ˆæœ¬è®¡åˆ’"></a>åç»­çš„ç‰ˆæœ¬è®¡åˆ’<a class="hash-link" href="#åç»­çš„ç‰ˆæœ¬è®¡åˆ’" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬ä¼šæŒç»­æ‰©å±• icestark çš„èƒ½åŠ›ï¼Œæå‡å¾®å‰ç«¯ä½“éªŒã€‚åœ¨æ¥ä¸‹æ¥çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¼šï¼š</p><ul><li>æä¾›æ›´ä¼˜çš„æ–¹å¼æ¥å…¥ es module å¾®åº”ç”¨ (<a href="https://github.com/ice-lab/icestark/issues/346" target="_blank" rel="noopener noreferrer">rfc</a>)</li><li>ä¼˜åŒ– icestark çš„é”™è¯¯æç¤ºä¿¡æ¯ (<a href="https://github.com/ice-lab/icestark/issues/308" target="_blank" rel="noopener noreferrer">issue</a>)</li><li>ç»™æ–°æ‰‹ç”¨æˆ·æä¾›æ›´ç®€å•çš„æ¥å…¥æŒ‡å¯¼</li><li>æä¾›å¤šé¡µç­¾çš„å¾®åº”ç”¨æ¨¡æ¿</li></ul></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/v-2">v2</a><a class="margin-horiz--sm" href="/blog/tags/announcement">announcement</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/02-icestark-2-6-0"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">icestark 2.6.0 Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#announcing-icestark-250" class="table-of-contents__link">Announcing icestark 2.5.0</a><ul><li><a href="#å¯¹é½-api-å’Œ-react-component-ä½¿ç”¨å­—æ®µ" class="table-of-contents__link">å¯¹é½ API å’Œ React Component ä½¿ç”¨å­—æ®µ</a></li><li><a href="#é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•" class="table-of-contents__link">é‡æ„è·¯ç”±åŒ¹é…ç®—æ³•</a></li><li><a href="#ä¼˜åŒ–-icestark-æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ" class="table-of-contents__link">ä¼˜åŒ– icestark æœ¬åœ°å¼€å‘ä»¥åŠæ²™ç®±çš„è°ƒè¯•ä½“éªŒ</a></li><li><a href="#ä¿®å¤ä½¿ç”¨-prompt-ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜" class="table-of-contents__link">ä¿®å¤ä½¿ç”¨ Prompt ç»„ä»¶äºŒæ¬¡å¼¹æ¡†çš„é—®é¢˜</a></li></ul></li><li><a href="#åç»­çš„ç‰ˆæœ¬è®¡åˆ’" class="table-of-contents__link">åç»­çš„ç‰ˆæœ¬è®¡åˆ’</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ç¤¾åŒº</h4><ul class="footer__items"><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group.png" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç¤¾åŒºé’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://iceworks.oss-cn-hangzhou.aliyuncs.com/assets/images/ice-group-inside.JPG" target="_blank" rel="noopener noreferrer" class="footer__link-item">é˜¿é‡Œå†…éƒ¨é’‰é’‰ç¾¤</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">å¸®åŠ©</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">åé¦ˆé—®é¢˜</a></li><li class="footer__item"><a href="https://github.com/ice-lab/icestark/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">æäº¤éœ€æ±‚</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a href="https://ice.work/" target="_blank" rel="noopener noreferrer" class="footer__link-item">é£å†°ï¼ˆICEï¼‰</a></li><li class="footer__item"><a href="https://rax.js.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rax</a></li><li class="footer__item"><a href="https://appworks.site" target="_blank" rel="noopener noreferrer" class="footer__link-item">AppWorks</a></li><li class="footer__item"><a href="https://openkraken.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kraken</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 é£å†°ï¼ˆICEï¼‰. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d43f27da.js"></script>
<script src="/assets/js/main.58f1a74e.js"></script>
</body>
</html>